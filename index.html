<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><script src="https://cdnjs.cloudflare.com/ajax/libs/camanjs/4.1.2/caman.full.min.js"></script><script src="combinatorics.js"></script><script src="worker.js"></script><script src="FastBlur.js"></script><script src="StackBlur.js"></script><style>body{display:flex;align-items:center;justify-content:center;flex-direction:column}canvas{max-height:70vh;margin:25px}</style><script>function sigmoid(t){return 1/(1+Math.pow(Math.E,-(t-128)/32))}function calculateAspectRatioFit(t,a,e,i){var n=Math.min(e/t,i/a);return{width:t*n,height:a*n}}function tritonize(t,a){for(var e=0;e<t.length;e+=4){var i=299*t[e]/1e3+587*t[e+1]/1e3+114*t[e+2]/1e3,n=sigmoid(i),o=a[Math.floor(n*a.length)];t[e]=o[0],t[e+1]=o[1],t[e+2]=o[2],t[3]=255}return t}function writeToCanvas(t,a){var e=document.getElementById(t),i=e.getContext("2d"),n=i.createImageData(e.width,e.height);n.data.set(a),i.putImageData(n,0,0)}function createCanvas(t,a){var e=new Image;e.src="sampleImage.png",e.onload=function(){var i=document.createElement("canvas");i.id="canvas_"+a,document.body.appendChild(i),i.width=e.width,i.height=e.height;var n=i.getContext("2d"),o=calculateAspectRatioFit(e.width,e.height,i.width,i.height);n.drawImage(e,0,0,o.width,o.height);var r=n.getImageData(0,0,i.width,i.height),h=r.data,g={image:{height:e.height,width:e.width},imageData:h,index:a,colorList:t};imageManipulator.run(g,function(t,a){writeToCanvas("canvas_"+a.index,t)})}}var imageManipulator=operative({BlurStack:BlurStack,mul_table:mul_table,shg_table:shg_table,blurImage:StackBlur.imageDataRGBA,sigmoid:sigmoid,tritonize:tritonize,run:function(t,a){a(this.tritonize(t.imageData,t.colorList),t)}});window.onload=function(){for(var t=[[198,12,48],[255,255,255],[0,0,0],[228,219,204],[60,74,198],[79,243,222]],a=Combinatorics.permutation(t).toArray(),e=0;e<a.length;e++)createCanvas(a[e],e)}</script><title>Tritonize Demo</title><link href="/tritonize/static/css/main.65027555.css" rel="stylesheet"></head><body><div id="root"></div><canvas id="canvas"></canvas><script type="text/javascript" src="/tritonize/static/js/main.939b0afa.js"></script></body></html>